{"version":3,"sources":["components/Login/Login.module.css","components/UI/Card/Card.module.css","components/UI/Button/Button.module.css","components/Home/Home.module.css","components/MainHeader/Navigation.module.css","components/MainHeader/MainHeader.module.css","components/UI/Card/Card.js","components/UI/Button/Button.js","store/auth-context.js","components/Login/Login.js","components/Home/Home.js","components/MainHeader/Navigation.js","components/MainHeader/MainHeader.js","App.js","index.js"],"names":["module","exports","Card","props","className","classes","card","children","Button","type","button","onClick","AuthContext","React","createContext","isLoggedIn","onLogOut","onLogIn","email","password","AuthContextProvider","useState","setIsLoggedIn","Provider","value","localStorage","removeItem","setItem","emailReduser","state","action","val","isValid","includes","passwordReduser","trim","length","console","log","Login","formIsValid","setFormIsValid","error","setError","useReducer","emailState","dispatchEmail","passwordState","dispatchPassword","authCtx","useContext","emailIsValid","passwordIsValid","useEffect","identifier","setTimeout","clearTimeout","login","onSubmit","event","preventDefault","control","invalid","htmlFor","id","onChange","target","onBlur","actions","btn","Home","Fragment","home","Navigation","ctx","nav","href","MainHeader","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5e09002d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"Login_login__2lNDf\",\"control\":\"Login_control__xpoFO\",\"invalid\":\"Login_invalid__2s-DS\",\"actions\":\"Login_actions__1FYcD\",\"error\":\"Login_error__1pLND\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__2Eh3b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__Z24ds\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"Home_home__3UiHq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navigation_nav__2Mpik\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main-header\":\"MainHeader_main-header__2MM1p\"};","import React from 'react';\n\nimport classes from './Card.module.css';\n\nconst Card = (props) => {\n  return (\n    <div className={`${classes.card} ${props.className}`}>{props.children}</div>\n  );\n};\n\nexport default Card;\n","import React from 'react';\n\nimport classes from './Button.module.css';\n\nconst Button = (props) => {\n    return (\n      <button\n        type={props.type || 'button'}\n        className={`${classes.button} ${props.className}`}\n        onClick={props.onClick}\n        \n      >\n        {props.children}\n      </button>\n    );\n  \n};\n\nexport default Button;\n","import React, {useState} from \"react\";\r\n\r\n\r\nconst AuthContext = React.createContext({\r\n    isLoggedIn: false,\r\n    onLogOut: ()=>{},\r\n    onLogIn: (email,password)=>{}\r\n});\r\n\r\nexport const AuthContextProvider = (props)=>{\r\n    const [isLoggedIn,setIsLoggedIn] = useState(false);\r\n    \r\n    const logouthandler = ()=>{\r\n        localStorage.removeItem('isLoggedIn');\r\n        setIsLoggedIn(false);\r\n    };\r\n    const loginHandler = ()=>{\r\n        localStorage.setItem('isLoggedIn','1');\r\n        setIsLoggedIn(true);\r\n    };\r\n\r\n    return (\r\n        <AuthContext.Provider value={{isLoggedIn: isLoggedIn, onLogOut: logouthandler, onLogIn: loginHandler}}>\r\n            {props.children}\r\n        </AuthContext.Provider>\r\n    );\r\n};\r\n\r\nexport default AuthContext;","import React, { useState, useEffect, useReducer , useContext} from 'react';\n\nimport Card from '../UI/Card/Card';\nimport classes from './Login.module.css';\nimport Button from '../UI/Button/Button';\nimport AuthContext from '../../store/auth-context';\n\n\n// To check validity of email\nconst emailReduser = (state , action) =>{\n  if (action.type === 'USER_INPUT') {\n    return {value: action.val, isValid: action.val.includes('@')};\n  }\n  if (action.type === 'INPUT_BLUR'){\n    return {value: state.value , isValid: state.value.includes('@')};\n  }\n  return {value: '' , isValid: false};\n};\n// To check validity of password\nconst passwordReduser = (state, action) =>{\n  if (action.type === 'USER_INPUT'){ \n    return {value: action.val , isValid: action.val.trim().length > 6};\n  }\n  if (action.type === 'INPUT_BLUR'){\n    console.log(state.value.trim().length );\n    return {value: state.value , isValid: state.value.trim().length > 6};\n  }\n  return {value: '' , isValid: false};\n}\n\nconst Login = (props) => {\n  \n  const [formIsValid, setFormIsValid] = useState(false);\n  const [error,setError] = useState('');\n  const [emailState, dispatchEmail] = useReducer(emailReduser , {\n    value: '',\n    isValid: null,\n  });\n  const [passwordState, dispatchPassword] = useReducer(passwordReduser , {\n    value: '',\n    isValid: null,\n  })\n  const authCtx = useContext(AuthContext);\n\n  \n  const {isValid: emailIsValid} = emailState;  \n  const {isValid: passwordIsValid} = passwordState;\n  console.log(`psd`,passwordIsValid);\n  console.log(emailIsValid);\n  useEffect(() => {\n    const identifier = setTimeout(()=> {\n      setFormIsValid(\n        emailIsValid && passwordIsValid\n      );\n    }, 500); \n    return ()=>{\n      clearTimeout(identifier);\n    }; \n  } , [emailIsValid , passwordIsValid]);\n\n  const emailChangeHandler = (event) => {\n    dispatchEmail({type: 'USER_INPUT', val: event.target.value});\n  };\n\n  const passwordChangeHandler = (event) => {\n    dispatchPassword({type: 'USER_INPUT', val: event.target.value}); \n  };\n\n  const validateEmailHandler = () => {\n    dispatchEmail({type: 'INPUT_BLUR'})\n  };\n\n  const validatePasswordHandler = () => {\n    dispatchPassword({type: 'INPUT_BLUR'})\n  };\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n    if (formIsValid){\n    authCtx.onLogIn(emailState.value, passwordState.value);\n    }\n    if (!formIsValid) {\n      setError('Please enter Valid email and Password ');\n    }\n    authCtx.isLoggedIn =  formIsValid;\n    console.log(authCtx.isLoggedIn);\n  };\n\n  return (\n    <Card className={classes.login}>\n    <div className={`${classes.error}`}>{error}</div>\n      <form onSubmit={submitHandler}>\n        <div\n          className={`${classes.control} ${\n            emailState.isValid === false ? classes.invalid : ''\n          }`}\n        >\n          <label htmlFor=\"email\">E-Mail</label>\n          <input\n            type=\"email\"\n            id=\"email\"\n            value={emailState.value}\n            onChange={emailChangeHandler}\n            onBlur={validateEmailHandler}\n          />\n        </div>\n        <div\n          className={`${classes.control} ${\n            passwordState.isValid === false ? classes.invalid : ''\n          }`}\n        >\n          <label htmlFor=\"password\">Password</label>\n          <input\n            type=\"password\"\n            id=\"password\"\n            value={passwordState.value}\n            onChange={passwordChangeHandler}\n            onBlur={validatePasswordHandler}\n          />\n        </div>\n        <div className={classes.actions}>\n          <Button type=\"submit\" className={classes.btn}>\n            SUBMIT\n          </Button>\n        </div>\n      </form>\n    </Card>\n  );\n};\n\nexport default Login;\n","import React, {useContext} from 'react';\nimport AuthContext from '../../store/auth-context';\nimport Button from '../UI/Button/Button';\nimport Card from '../UI/Card/Card';\nimport classes from './Home.module.css';\n\nconst Home = (props) => {\n  const authCtx = useContext(AuthContext)\n  return (\n    <React.Fragment>\n    <Card className={classes.home}>\n      <h1>Welcome back!</h1>\n      <Button onClick={authCtx.onLogOut}>Logout</Button>\n    </Card>\n    </React.Fragment>\n  );\n};\n\nexport default Home;\n","import React,{useContext} from 'react';\nimport AuthContext from '../../store/auth-context';\nimport classes from './Navigation.module.css';\n\n\nconst Navigation = () => {\n  const ctx = useContext(AuthContext);\n  return (\n    <React.Fragment>\n    {ctx.isLoggedIn &&\n    <nav className={classes.nav}>\n      <ul>\n      {ctx.isLoggedIn && (\n        <li>\n          <a href=\"/\">Users</a>\n        </li>\n      )}\n      {ctx.isLoggedIn && (\n        <li>\n          <a href=\"/\">Admin</a>\n        </li>\n      )}\n      {ctx.isLoggedIn && (\n        <li>\n          <button onClick={ctx.onLogOut}>Logout</button>\n        </li>\n      )}\n      </ul>\n    </nav>\n    }\n    </React.Fragment>\n  );\n};\n\nexport default Navigation;\n","import React from 'react';\n\nimport Navigation from './Navigation';\nimport classes from './MainHeader.module.css';\n\nconst MainHeader = (props) => {\n  return (\n    <header className={classes['main-header']}>\n      <Navigation />\n    </header>\n  );\n};\n\nexport default MainHeader;\n","import React, { useContext } from 'react';\n\nimport Login from './components/Login/Login';\nimport Home from './components/Home/Home';\nimport MainHeader from './components/MainHeader/MainHeader';\nimport AuthContext from './store/auth-context';\n\n\nfunction App() {\n  const ctx = useContext(AuthContext);\n  return (\n    <React.Fragment>\n      {ctx.isLoggedIn && <MainHeader/>}\n        {!ctx.isLoggedIn && <Login />}\n        \n        {ctx.isLoggedIn && <Home />}\n        \n      \n    </React.Fragment>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\nimport { AuthContextProvider } from './store/auth-context';\n\nReactDOM.render(<AuthContextProvider>\n<App />\n</AuthContextProvider>\n, document.getElementById('root'));\n"],"sourceRoot":""}