{"ast":null,"code":"import _slicedToArray from\"D:/reactapp1/01-starting-project_4/User_Registration/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useReducer,useContext}from'react';import Card from'../UI/Card/Card';import classes from'./Login.module.css';import Button from'../UI/Button/Button';import AuthContext from'../../store/auth-context';// To check validity of email\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var emailReduser=function emailReduser(state,action){if(action.type==='USER_INPUT'){return{value:action.val,isValid:action.val.includes('@')};}if(action.type==='INPUT_BLUR'){return{value:state.value,isValid:state.value.includes('@')};}return{value:'',isValid:false};};// To check validity of password\nvar passwordReduser=function passwordReduser(state,action){if(action.type==='USER_INPUT'){return{value:action.val,isValid:action.val.trim().length>6};}if(action.type==='INPUT_BLUR'){console.log(state.value.trim().length);return{value:state.value,isValid:state.value.trim().length>6};}return{value:'',isValid:false};};var Login=function Login(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),formIsValid=_useState2[0],setFormIsValid=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useReducer=useReducer(emailReduser,{value:'',isValid:null}),_useReducer2=_slicedToArray(_useReducer,2),emailState=_useReducer2[0],dispatchEmail=_useReducer2[1];var _useReducer3=useReducer(passwordReduser,{value:'',isValid:null}),_useReducer4=_slicedToArray(_useReducer3,2),passwordState=_useReducer4[0],dispatchPassword=_useReducer4[1];var authCtx=useContext(AuthContext);var emailIsValid=emailState.isValid;var passwordIsValid=passwordState.isValid;console.log(\"psd\",passwordIsValid);console.log(emailIsValid);useEffect(function(){var identifier=setTimeout(function(){setFormIsValid(emailIsValid&&passwordIsValid);},500);return function(){clearTimeout(identifier);};},[emailIsValid,passwordIsValid]);var emailChangeHandler=function emailChangeHandler(event){dispatchEmail({type:'USER_INPUT',val:event.target.value});};var passwordChangeHandler=function passwordChangeHandler(event){dispatchPassword({type:'USER_INPUT',val:event.target.value});};var validateEmailHandler=function validateEmailHandler(){dispatchEmail({type:'INPUT_BLUR'});};var validatePasswordHandler=function validatePasswordHandler(){dispatchPassword({type:'INPUT_BLUR'});};var submitHandler=function submitHandler(event){event.preventDefault();if(formIsValid){authCtx.onLogIn(emailState.value,passwordState.value);}if(!formIsValid){setError('Please enter Valid email and Password ');}authCtx.isLoggedIn=formIsValid;console.log(authCtx.isLoggedIn);};return/*#__PURE__*/_jsxs(Card,{className:classes.login,children:[/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(classes.error),children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(classes.control,\" \").concat(emailState.isValid===false?classes.invalid:''),children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"E-Mail\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",value:emailState.value,onChange:emailChangeHandler,onBlur:validateEmailHandler})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(classes.control,\" \").concat(passwordState.isValid===false?classes.invalid:''),children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",value:passwordState.value,onChange:passwordChangeHandler,onBlur:validatePasswordHandler})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.actions,children:/*#__PURE__*/_jsx(Button,{type:\"submit\",className:classes.btn,children:\"SUBMIT\"})})]})]});};export default Login;","map":{"version":3,"sources":["D:/reactapp1/01-starting-project_4/User_Registration/src/components/Login/Login.js"],"names":["React","useState","useEffect","useReducer","useContext","Card","classes","Button","AuthContext","emailReduser","state","action","type","value","val","isValid","includes","passwordReduser","trim","length","console","log","Login","props","formIsValid","setFormIsValid","error","setError","emailState","dispatchEmail","passwordState","dispatchPassword","authCtx","emailIsValid","passwordIsValid","identifier","setTimeout","clearTimeout","emailChangeHandler","event","target","passwordChangeHandler","validateEmailHandler","validatePasswordHandler","submitHandler","preventDefault","onLogIn","isLoggedIn","login","control","invalid","actions","btn"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useReducer , useContext} from 'react';\n\nimport Card from '../UI/Card/Card';\nimport classes from './Login.module.css';\nimport Button from '../UI/Button/Button';\nimport AuthContext from '../../store/auth-context';\n\n\n// To check validity of email\nconst emailReduser = (state , action) =>{\n  if (action.type === 'USER_INPUT') {\n    return {value: action.val, isValid: action.val.includes('@')};\n  }\n  if (action.type === 'INPUT_BLUR'){\n    return {value: state.value , isValid: state.value.includes('@')};\n  }\n  return {value: '' , isValid: false};\n};\n// To check validity of password\nconst passwordReduser = (state, action) =>{\n  if (action.type === 'USER_INPUT'){ \n    return {value: action.val , isValid: action.val.trim().length > 6};\n  }\n  if (action.type === 'INPUT_BLUR'){\n    console.log(state.value.trim().length );\n    return {value: state.value , isValid: state.value.trim().length > 6};\n  }\n  return {value: '' , isValid: false};\n}\n\nconst Login = (props) => {\n  \n  const [formIsValid, setFormIsValid] = useState(false);\n  const [error,setError] = useState('');\n  const [emailState, dispatchEmail] = useReducer(emailReduser , {\n    value: '',\n    isValid: null,\n  });\n  const [passwordState, dispatchPassword] = useReducer(passwordReduser , {\n    value: '',\n    isValid: null,\n  })\n  const authCtx = useContext(AuthContext);\n\n  \n  const {isValid: emailIsValid} = emailState;  \n  const {isValid: passwordIsValid} = passwordState;\n  console.log(`psd`,passwordIsValid);\n  console.log(emailIsValid);\n  useEffect(() => {\n    const identifier = setTimeout(()=> {\n      setFormIsValid(\n        emailIsValid && passwordIsValid\n      );\n    }, 500); \n    return ()=>{\n      clearTimeout(identifier);\n    }; \n  } , [emailIsValid , passwordIsValid]);\n\n  const emailChangeHandler = (event) => {\n    dispatchEmail({type: 'USER_INPUT', val: event.target.value});\n  };\n\n  const passwordChangeHandler = (event) => {\n    dispatchPassword({type: 'USER_INPUT', val: event.target.value}); \n  };\n\n  const validateEmailHandler = () => {\n    dispatchEmail({type: 'INPUT_BLUR'})\n  };\n\n  const validatePasswordHandler = () => {\n    dispatchPassword({type: 'INPUT_BLUR'})\n  };\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n    if (formIsValid){\n    authCtx.onLogIn(emailState.value, passwordState.value);\n    }\n    if (!formIsValid) {\n      setError('Please enter Valid email and Password ');\n    }\n    authCtx.isLoggedIn =  formIsValid;\n    console.log(authCtx.isLoggedIn);\n  };\n\n  return (\n    <Card className={classes.login}>\n    <div className={`${classes.error}`}>{error}</div>\n      <form onSubmit={submitHandler}>\n        <div\n          className={`${classes.control} ${\n            emailState.isValid === false ? classes.invalid : ''\n          }`}\n        >\n          <label htmlFor=\"email\">E-Mail</label>\n          <input\n            type=\"email\"\n            id=\"email\"\n            value={emailState.value}\n            onChange={emailChangeHandler}\n            onBlur={validateEmailHandler}\n          />\n        </div>\n        <div\n          className={`${classes.control} ${\n            passwordState.isValid === false ? classes.invalid : ''\n          }`}\n        >\n          <label htmlFor=\"password\">Password</label>\n          <input\n            type=\"password\"\n            id=\"password\"\n            value={passwordState.value}\n            onChange={passwordChangeHandler}\n            onBlur={validatePasswordHandler}\n          />\n        </div>\n        <div className={classes.actions}>\n          <Button type=\"submit\" className={classes.btn}>\n            SUBMIT\n          </Button>\n        </div>\n      </form>\n    </Card>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}